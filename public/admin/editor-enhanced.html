<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Calmiqs Content Editor</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="/assets/css/editor-enhanced.css" />
  </head>
  <body class="bg-gray-50">
    <!-- Header -->
    <header class="bg-white border-b sticky top-0 z-50 shadow-sm">
      <div class="max-w-7xl mx-auto px-4 py-3 flex items-center justify-between">
        <div class="flex items-center gap-4">
          <a href="/" class="text-xl font-bold text-primary">Calmiqs</a>
          <span class="text-gray-400">|</span>
          <h1 class="text-lg font-semibold text-gray-800">Content Editor</h1>
        </div>

        <div class="flex items-center gap-2">
          <button id="saveBtn" class="btn btn-primary">
            <span class="icon">üíæ</span>
            Save
          </button>
          <button id="publishBtn" class="btn btn-success">
            <span class="icon">‚úì</span>
            Publish
          </button>
          <button id="previewBtn" class="btn btn-secondary">
            <span class="icon">üëÅ</span>
            Preview
          </button>
        </div>
      </div>
    </header>

    <div class="max-w-7xl mx-auto px-4 py-6">
      <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
        <!-- Main Editor Column -->
        <div class="lg:col-span-2 space-y-4">
          <!-- Title Input -->
          <div class="card">
            <input
              id="postTitle"
              type="text"
              placeholder="Enter your post title..."
              class="text-3xl font-bold border-none focus:outline-none w-full"
            />
            <div class="text-sm text-gray-500 mt-2">
              Slug:
              <span id="slugPreview" class="text-primary">auto-generated</span>
              <button id="editSlug" class="text-xs text-blue-600 ml-2">Edit</button>
            </div>
          </div>

          <!-- Rich Text Toolbar -->
          <div class="card">
            <div class="toolbar">
              <div class="toolbar-group">
                <button class="toolbar-btn" data-cmd="undo" title="Undo">‚Ü∂</button>
                <button class="toolbar-btn" data-cmd="redo" title="Redo">‚Ü∑</button>
              </div>

              <div class="toolbar-group">
                <button class="toolbar-btn" data-cmd="bold" title="Bold"><b>B</b></button>
                <button class="toolbar-btn" data-cmd="italic" title="Italic"><i>I</i></button>
                <button class="toolbar-btn" data-cmd="underline" title="Underline"><u>U</u></button>
                <button class="toolbar-btn" data-cmd="strikeThrough" title="Strike">SÃ∂</button>
              </div>

              <div class="toolbar-group">
                <select class="toolbar-select" data-cmd="formatBlock">
                  <option value="p">Paragraph</option>
                  <option value="h1">Heading 1</option>
                  <option value="h2">Heading 2</option>
                  <option value="h3">Heading 3</option>
                  <option value="h4">Heading 4</option>
                </select>
              </div>

              <div class="toolbar-group">
                <button class="toolbar-btn" data-cmd="insertUnorderedList" title="Bullet List">
                  ‚Ä¢
                </button>
                <button class="toolbar-btn" data-cmd="insertOrderedList" title="Numbered List">
                  1.
                </button>
                <button class="toolbar-btn" data-cmd="indent" title="Indent">‚Üí</button>
                <button class="toolbar-btn" data-cmd="outdent" title="Outdent">‚Üê</button>
              </div>

              <div class="toolbar-group">
                <button class="toolbar-btn" data-cmd="createLink" title="Insert Link">üîó</button>
                <button class="toolbar-btn" id="insertImageBtn" title="Insert Image">üñºÔ∏è</button>
                <button class="toolbar-btn" id="insertTableBtn" title="Insert Table">‚äû</button>
                <button class="toolbar-btn" id="insertCodeBtn" title="Code Block">{ }</button>
              </div>

              <div class="toolbar-group">
                <button class="toolbar-btn" data-cmd="justifyLeft">‚â°</button>
                <button class="toolbar-btn" data-cmd="justifyCenter">‚â£</button>
                <button class="toolbar-btn" data-cmd="justifyRight">‚â°</button>
              </div>

              <div class="toolbar-group ml-auto">
                <button class="toolbar-btn" id="htmlViewBtn" title="HTML View">< /></button>
                <button class="toolbar-btn" id="fullscreenBtn" title="Fullscreen">‚õ∂</button>
              </div>
            </div>
          </div>

          <!-- Content Editor -->
          <div class="card editor-container">
            <div
              id="contentEditor"
              contenteditable="true"
              class="prose max-w-none min-h-[500px] focus:outline-none"
              placeholder="Start writing your content..."
            ></div>
          </div>

          <!-- HTML View (hidden by default) -->
          <div id="htmlView" class="card hidden">
            <textarea
              id="htmlTextarea"
              class="w-full h-64 font-mono text-sm border rounded p-3"
            ></textarea>
            <button id="applyHtmlBtn" class="btn btn-primary mt-2">Apply Changes</button>
          </div>

          <!-- SEO Section -->
          <div class="card">
            <h3 class="text-lg font-semibold mb-3 flex items-center gap-2">
              <span>üîç</span>
              SEO Settings
            </h3>

            <div class="space-y-3">
              <div>
                <label class="label">Meta Description</label>
                <textarea
                  id="metaDescription"
                  maxlength="160"
                  class="input"
                  placeholder="Brief description for search engines..."
                  rows="3"
                ></textarea>
                <div class="text-xs text-gray-500 text-right">
                  <span id="metaCharCount">0</span>
                  /160 characters
                </div>
              </div>

              <div>
                <label class="label">Focus Keyword</label>
                <input
                  id="focusKeyword"
                  type="text"
                  class="input"
                  placeholder="Primary keyword for this post"
                />
              </div>

              <div id="seoScore" class="bg-gray-50 rounded-lg p-3">
                <div class="flex items-center justify-between mb-2">
                  <span class="font-medium">SEO Score</span>
                  <span id="scoreValue" class="text-2xl font-bold text-gray-400">--</span>
                </div>
                <div id="seoSuggestions" class="text-sm text-gray-600 space-y-1">
                  <p>üí° Add a meta description</p>
                  <p>üí° Choose a focus keyword</p>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Sidebar -->
        <div class="space-y-4">
          <!-- Post Status -->
          <div class="card">
            <h3 class="text-lg font-semibold mb-3">üìã Status</h3>

            <div class="space-y-3">
              <div>
                <label class="label">Publish Status</label>
                <select id="postStatus" class="input">
                  <option value="draft">Draft</option>
                  <option value="published">Published</option>
                  <option value="scheduled">Scheduled</option>
                </select>
              </div>

              <div id="scheduleSection" class="hidden">
                <label class="label">Schedule Date</label>
                <input type="datetime-local" id="scheduleDate" class="input" />
              </div>

              <div>
                <label class="label">Visibility</label>
                <select id="visibility" class="input">
                  <option value="public">Public</option>
                  <option value="private">Private</option>
                  <option value="password">Password Protected</option>
                </select>
              </div>

              <div class="text-sm text-gray-600">
                <p>
                  Created:
                  <span id="createdDate">--</span>
                </p>
                <p>
                  Modified:
                  <span id="modifiedDate">--</span>
                </p>
                <p>
                  Words:
                  <span id="wordCount">0</span>
                </p>
              </div>
            </div>
          </div>

          <!-- Featured Image -->
          <div class="card">
            <h3 class="text-lg font-semibold mb-3">üñºÔ∏è Featured Image</h3>

            <div
              id="featuredImagePreview"
              class="mb-3 rounded overflow-hidden bg-gray-100 aspect-video flex items-center justify-center"
            >
              <span class="text-gray-400">No image selected</span>
            </div>

            <input type="file" id="featuredImageInput" accept="image/*" class="hidden" />
            <button id="selectFeaturedBtn" class="btn btn-secondary w-full">Select Image</button>

            <input
              id="featuredImageAlt"
              type="text"
              class="input mt-2"
              placeholder="Image alt text"
            />
          </div>

          <!-- Categories -->
          <div class="card">
            <h3 class="text-lg font-semibold mb-3">üìÅ Category</h3>
            <select id="postCategory" class="input">
              <option value="">Select Category</option>
              <option value="wellness">Wellness</option>
              <option value="sustainability">Sustainability</option>
              <option value="technology">Technology</option>
              <option value="lifestyle">Lifestyle</option>
            </select>
          </div>

          <!-- Tags -->
          <div class="card">
            <h3 class="text-lg font-semibold mb-3">üè∑Ô∏è Tags</h3>
            <input
              id="tagsInput"
              type="text"
              class="input"
              placeholder="Add tags (comma separated)"
            />
            <div id="tagsList" class="flex flex-wrap gap-2 mt-2"></div>
          </div>

          <!-- Excerpt -->
          <div class="card">
            <h3 class="text-lg font-semibold mb-3">‚úèÔ∏è Excerpt</h3>
            <textarea
              id="postExcerpt"
              class="input"
              rows="4"
              placeholder="Brief summary of your post..."
            ></textarea>
          </div>

          <!-- Actions -->
          <div class="card">
            <h3 class="text-lg font-semibold mb-3">‚ö° Actions</h3>
            <div class="space-y-2">
              <button id="loadPostBtn" class="btn btn-secondary w-full">üìÇ Load Post</button>
              <button id="deletePostBtn" class="btn btn-danger w-full">üóëÔ∏è Delete Post</button>
              <button id="duplicateBtn" class="btn btn-secondary w-full">üìã Duplicate</button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Image Library Modal -->
    <div id="imageLibraryModal" class="modal hidden">
      <div class="modal-backdrop"></div>
      <div class="modal-content">
        <div class="modal-header">
          <h2 class="text-xl font-bold">Image Library</h2>
          <button id="closeLibraryBtn" class="text-gray-500 hover:text-gray-700">‚úï</button>
        </div>

        <div class="modal-body">
          <div class="mb-4">
            <input type="file" id="uploadImageInput" accept="image/*" multiple class="hidden" />
            <button id="uploadImagesBtn" class="btn btn-primary">üì§ Upload Images</button>
          </div>

          <div id="imageGrid" class="grid grid-cols-3 gap-4">
            <!-- Images will be loaded here -->
          </div>
        </div>
      </div>
    </div>

    <!-- Table Insert Modal -->
    <div id="tableModal" class="modal hidden">
      <div class="modal-backdrop"></div>
      <div class="modal-content max-w-md">
        <div class="modal-header">
          <h2 class="text-xl font-bold">Insert Table</h2>
          <button id="closeTableBtn" class="text-gray-500 hover:text-gray-700">‚úï</button>
        </div>
        <div class="modal-body">
          <div class="space-y-3">
            <div>
              <label class="label">Rows</label>
              <input type="number" id="tableRows" value="3" min="1" max="20" class="input" />
            </div>
            <div>
              <label class="label">Columns</label>
              <input type="number" id="tableCols" value="3" min="1" max="10" class="input" />
            </div>
            <button id="insertTableConfirm" class="btn btn-primary w-full">Insert Table</button>
          </div>
        </div>
      </div>
    </div>

    <!-- Scripts -->
    <script>
      window.CALMIQS_ADMIN_TOKEN = "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Hadia@2017_Ayesha@2007";
    </script>
    <script src="/assets/js/editor-enhanced.js"></script>
  </body>
</html>
